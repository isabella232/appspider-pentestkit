/* Author: Denis Podgurskii */

export class ptk_importer {

    constructor(settings) {
        this.settings = settings
    }

    parse(text) {
        if (this['parse_' + this.settings.format]) return this['parse_' + this.settings.format](text)
        else throw 'No render methond for ' + this.settings.format
    }



    /* xml */
    parse_xml(xml) {
        let macroEvents = []
        let startUrl = null
        let parser = new DOMParser()
        let xmlDoc = parser.parseFromString(xml, "text/xml")
        let events = xmlDoc.getElementsByTagName("MacroEvent")
        for (let i = 0; i < events.length; i++) {
            let item = {}
            for (let k = 0; k < events[i].children.length; k++) {
                item[events[i].children[k].nodeName] = events[i].children[k].textContent
            }
            if(i == 0) startUrl = item.Data
            macroEvents.push(item)
        }
        return [startUrl, macroEvents]
    }

    parse_side(side) {

    }

    parse_html(html) {

    }

}